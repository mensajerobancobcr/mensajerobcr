var MensajesControlador=PrincipalControlador.subclass({constructor:function(a,b,c){this.el=a;this.opciones=b?b:{};this.callback=c;this.init(this,c)},cargarVariables:function(){var a="";this.opciones.tipo&&(a=this.opciones.tipo);this.contenedor=$("<div id='mensajes-int-contenedor' aria-labelledby='mensajeRespuesta' class='ui top attached icon message "+a+"' tabindex='20'></div").css("display","none");this.opciones.tabindex&&this.contenedor.attr("tabindex",this.opciones.tabindex)},cargarVista:function(){this.crearIcono();
this.crearMensajes();$(this.el).append(this.contenedor)},cargarEventos:function(){var a=this;$(this.el).find("#close").click(function(){a.ocultar()})},crearIcono:function(){var a=$("<i id='main-icon' class='icon'></i"),b=$("<i id='close' class='close icon'></i>");this.opciones.icon?"informativo"==this.opciones.icon?a='<div style="margin-right:1em;" id="iconInfoContainer"><svg class="bi bi-info-circle" width="2.4em" height="2.4em" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-.001 5.75c.69 0 1.251.56 1.251 1.25s-.561 1.25-1.251 1.25-1.249-.56-1.249-1.25.559-1.25 1.249-1.25zm2.001 12.25h-4v-1c.484-.179 1-.201 1-.735v-4.467c0-.534-.516-.618-1-.797v-1h3v6.265c0 .535.517.558 1 .735v.999z"/></svg></div>':
a.addClass(this.opciones.icon):a.addClass("info circle");this.opciones.cerrar&&this.contenedor.append(b);this.contenedor.append(a)},cambiarTipo:function(a,b){this.contenedor.removeClass();this.contenedor.addClass("ui top attached icon message "+a);if("informativo"==this.opciones.icon&&"informativo"!=b){this.contenedor.find("#iconInfoContainer").remove();this.contenedor.find("*[id^=main-icon]").remove();var c=$("<i id='main-icon' class='icon'></i");c.addClass(b);this.contenedor.prepend(c)}else"informativo"==
b?(this.contenedor.find("#iconInfoContainer").remove(),this.contenedor.find("*[id^=main-icon]").remove(),this.contenedor.prepend('<div style="margin-right:1em;" id="iconInfoContainer"><svg class="bi bi-info-circle" width="2.4em" height="2.4em" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-.001 5.75c.69 0 1.251.56 1.251 1.25s-.561 1.25-1.251 1.25-1.249-.56-1.249-1.25.559-1.25 1.249-1.25zm2.001 12.25h-4v-1c.484-.179 1-.201 1-.735v-4.467c0-.534-.516-.618-1-.797v-1h3v6.265c0 .535.517.558 1 .735v.999z"/></svg></div>')):
""!=b&&this.contenedor.find("*[id^=main-icon]").each(function(d){$(this).removeClass();$(this).addClass(b+" icon")})},crearMensajes:function(){var a=$("<div class='content'></div");this.opciones.mensajes&&$.each(this.opciones.mensajes,function(b,c){var d=$("<p></p").text($.traducir(c));a.append(d)});this.contenedor.append(a)},mostrar:function(){$(this.el).find("#mensajes-int-contenedor").show();this.focus()},ocultar:function(){$(this.el).find("#mensajes-int-contenedor").hide()},agregarMensaje:function(a,
b,c){a=$("<textarea />").html(a).text();b||$(this.el).find("#mensajes-int-contenedor").find(".content").children().remove();a=$("<p id='mensajeRespuesta' style='word-break: break-all;'></p").text($.traducir(a));$(this.el).find("#mensajes-int-contenedor").find(".content").append(a);c?$(this.el).find("#mensajes-int-contenedor").find("#close").hide():$(this.el).find("#mensajes-int-contenedor").find("#close").show();this.mostrar();this.focus()},agregarMensajes:function(a){a=a?a:this.opciones.mensajes;
var b=this;if(a){$(this.el).find("#mensajes-int-contenedor").find(".content").children().remove();var c=$("<div id='mensajeRespuesta'></div>");$.each(a,function(d,e){if(""!=$.trim(e)){var f=$("<p></p>").text($.traducir(b.decode(b.decode(e))));c.append(f)}});$(b.el).find("#mensajes-int-contenedor").find(".content").append(c);this.mostrar();this.focus()}},decode:function(a){var b=document.createElement("textarea");b.innerHTML=a;return b.value},limpiarMensaje:function(a){$(this.el).find("#mensajes-int-contenedor").find(".content").children().remove();
this.ocultar()},focus:function(){var a=this;setTimeout(function(){$(a.el).find("#mensajes-int-contenedor").focus()},60)}});